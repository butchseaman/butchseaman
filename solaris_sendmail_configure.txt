

You can still use the submission daemon (which doesn't listen on port 25 and alert your security team) and have things set up in no time by doing the following:

1. Edit /etc/default/sendmail (note that it may not exist!). Include the following values:

MODE=Ac
QUEUEINTERVAL="15m"

2. Of course, sendmail is already running, just not sending mail anywhere no matter how many times you try, so you can shut it down with the /etc/init.d/sendmail script:

/etc/init.d/sendmail stop

Note that this basically just runs Solaris' svcadm commands for you and browsing it is a good introduction to how this method of service control works.

3. Now edit /etc/sendmail/submit.cf and change the line that reads:

D{MTAHost}[127.0.0.1]

to read:

D{MTAHost}[smtprelay.xyz.com] <--- or whatever your mail relay/server is.

4. Start sendmail back up (which enables it for future reboots by default) and you can send mail again :)

/etc/init.d/sendmail start

A quick "ps -ef|grep "[m]ail" should show you the one sendmail process running with the "-Ac" (submission daemon) and 15 minute queue-scan setting! Enjoy :)

#####################################################################

Check that the mail server machine has a valid hostname.
Do this by running:
/usr/sbin/check-hostname
If it tells you the machine has a valid FQDN, everything’s fine. Otherwise, just follow the suggestion to edit /etc/hosts (instructions are given by the program, if applicable). 

Edit /etc/mail/cf/cf/local.mc, e. g. by running:  maybe sendmail.mc
vi /etc/mail/cf/cf/local.mc
Replace the line define(`confFALLBACK_SMARTHOST’, `mailhost$?m.$m$.’)dnl with:
define(`SMART_HOST', `ftwclient.esa.local')dnl
Make sure not to change the apostrophs – the opening one always points to the upper left, while the closing one is a vertical one.
Remove the line MAILER(`local’)dnl.
Remove the line LOCAL_NET_CONFIG.
Remove the last line, which says something like R$* < @ $* .$m. > $* $#esmtp $@ $2.$m $: $1 < @ $2.$m. > $3. 

We want to listen to any IP address, so remove the following lines too:
DAEMON_OPTIONS(`NAME=NoMTA4, Family=inet, Addr=127.0.0.1')dnl
DAEMON_OPTIONS(`Name=MSA4, Family=inet, Addr=127.0.0.1, Port=587, M=E’)dnl
If you did this step, make sure to protect your mail server from abuse by configuring your firewall appropriately. 
Change directory to /etc/mail/cf/cf, e. g. by running:

cd /etc/mail/cf/cf 
Compile and deploy the changed configuration file by running:
/usr/ccs/bin/m4 ../m4/cf.m4 main.mc > /etc/mail/sendmail.cf 

If you made sendmail listen to any IP address above, you probably want to allow your other servers in the LAN to relay mails through it. Enable this by editing /etc/mail/relay-domains, e. g. by running:
vi /etc/mail/relay-domains
The file might not exist yet.
I’m not sure of the correct syntax for this file, so I entered two lines like this:
192.168.101.0/24
192.168.101.
I don’t know which one is correct and don’t really care since it works. Of course use the correct address and subnetmask for your LAN here! 
Finally, make sendmail aware of the configuration changes by running:
svcadm restart sendmail 

